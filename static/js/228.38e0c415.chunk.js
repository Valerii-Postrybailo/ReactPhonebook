"use strict";(self.webpackChunkReactPhonebook=self.webpackChunkReactPhonebook||[]).push([[228],{9228:function(e,n,r){r.r(n),r.d(n,{default:function(){return de}});var t,i,o=r(2791),a=r(168),s=r(7691),l=r(8311),c=(s.ZP.label(t||(t=(0,a.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),(0,s.ZP)(l.Z)(i||(i=(0,a.Z)(["\n  width: 300px;\n  margin-bottom: '25px';\n"])))),u=r(9434),d=r(1634),m=r(5095),h=r.n(m),x=r(3329);var f,p,Z=function(){var e=(0,u.I0)(),n=h()((function(n){var r=n.target.value;e((0,d.Tv)(r))}),500);return(0,x.jsx)(c,{id:"search",name:"search",label:"Find contacts by name",variant:"standard",sx:{marginBottom:"25px",width:"300px"},onChange:n})},v=r(1413),b=r(2797),j=r(7205),g=s.ZP.form(f||(f=(0,a.Z)(["\n  width: 300px;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n"]))),y=(0,s.ZP)(j.Z)(p||(p=(0,a.Z)(["\n  width: fit-content;\n"]))),C=r(2419),P=r(1134),S=r(4695),w=r(5985),I=r(6916),k=function(e){return e.contacts.items},q=function(e){return e.contacts.isLoading},T=function(e){return e.contacts.error},z=(0,I.P1)([k,function(e){return e.filter}],(function(e,n){return e.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())}))})),F=r(3634),O=b.Ry({name:b.Z_().min(3,"Minimum 3 letters!").required("This field is required!"),number:b.Z_().matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"Phone number is not valid!").max(13,"Maximum 13 numbers!").required("This field is required!")}).required();function B(){var e=(0,P.cI)({defaultValues:{name:"",number:""},resolver:(0,S.X)(O)}),n=e.control,r=e.handleSubmit,t=e.reset,i=e.formState,a=i.errors,s=i.isSubmitSuccessful,c=(0,u.I0)(),d=(0,u.v9)(k);return o.useEffect((function(){s&&t()}),[s,t]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(g,{onSubmit:r((function(e){var n=e.name,r=e.number,t={name:n,number:r};d.find((function(e){return e.name===n}))?w.Am.warning("".concat(n," is already in contacts"),{}):c((0,F.uK)(t))}),(function(e){w.Am.error(e)})),children:[(0,x.jsx)(P.Qr,{name:"name",control:n,render:function(e){var n,r=e.field;return(0,x.jsx)(l.Z,(0,v.Z)((0,v.Z)({},r),{},{label:"Name",variant:"outlined",size:"small",error:a.name&&!0,helperText:null===(n=a.name)||void 0===n?void 0:n.message}))}}),(0,x.jsx)(P.Qr,{name:"number",control:n,render:function(e){var n,r=e.field;return(0,x.jsx)(l.Z,(0,v.Z)((0,v.Z)({},r),{},{label:"Phone",variant:"outlined",size:"small",error:a.number&&!0,helperText:null===(n=a.number)||void 0===n?void 0:n.message}))}}),(0,x.jsx)(y,{type:"submit",variant:"outlined",startIcon:(0,x.jsx)(C.Z,{}),children:"Add contact"})]}),(0,x.jsx)(w.Ix,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"})]})}var E,L,M=r(4476),Q=r(885),R=r(9963),W=r(1680),A=r(9827),D=r(807),_=r(9773),G=r(286),N=r(5399),H=r(5450),K=r(7247),V=r(1286),X=r(4942),J=r(3651),U=r(1745),Y=r(277),$=(0,Y.ZP)(J.Z)((function(e){var n,r=e.theme;return n={},(0,X.Z)(n,"&.".concat(U.Z.head),{backgroundColor:r.palette.primary.main,color:r.palette.common.white,fontSize:r.typography.htmlFontSize,fontWeight:r.typography.fontWeightBold}),(0,X.Z)(n,"&.".concat(U.Z.body),{fontSize:r.typography.fontSize}),(0,X.Z)(n,"&.MuiTableCell-body:nth-of-type(2)",{fontWeight:r.typography.fontWeightBold}),n})),ee=(0,Y.ZP)(D.Z)((function(e){return{"&:nth-of-type(even)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}})),ne=s.ZP.form(E||(E=(0,a.Z)(["\n  width: 300px;\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n"]))),re=(0,s.ZP)(j.Z)(L||(L=(0,a.Z)(["\n  width: fit-content;\n"]))),te=r(8763),ie=r(8074),oe=b.Ry({name:b.Z_().min(3,"Minimum 3 letters!").required("This field is required!"),number:b.Z_().matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"Phone number is not valid!").max(13,"Maximum 13 numbers!").required("This field is required!")}).required();function ae(e){var n=e.contact,r=e.setOpen,t=(0,P.cI)({defaultValues:{name:null===n||void 0===n?void 0:n.name,number:null===n||void 0===n?void 0:n.number},resolver:(0,S.X)(oe)}),i=t.control,a=t.handleSubmit,s=t.reset,c=t.formState,d=c.errors,m=c.isSubmitSuccessful,h=(0,u.I0)();return o.useEffect((function(){m&&s()}),[m,s]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(ie.Z,{variant:"h5",align:"center",gutterBottom:!0,children:"Edit contact"}),(0,x.jsxs)(ne,{onSubmit:a((function(e){var t=e.name,i=e.number,o={id:n.id,name:t,number:i};h((0,F.mP)(o)),r(!1)}),(function(e){w.Am.error(e)})),children:[(0,x.jsx)(P.Qr,{name:"name",control:i,render:function(e){var n,r=e.field;return(0,x.jsx)(l.Z,(0,v.Z)((0,v.Z)({},r),{},{label:"Name",variant:"outlined",size:"small",error:d.name&&!0,helperText:null===(n=d.name)||void 0===n?void 0:n.message}))}}),(0,x.jsx)(P.Qr,{name:"number",control:i,render:function(e){var n,r=e.field;return(0,x.jsx)(l.Z,(0,v.Z)((0,v.Z)({},r),{},{label:"Phone",variant:"outlined",size:"small",error:d.number&&!0,helperText:null===(n=d.number)||void 0===n?void 0:n.message}))}}),(0,x.jsxs)(M.Z,{flexDirection:"row",gridGap:"10px",justifyContent:"end",children:[(0,x.jsx)(re,{variant:"contained",onClick:function(){return r(!1)},children:"Cancel"}),(0,x.jsx)(re,{type:"submit",variant:"outlined",startIcon:(0,x.jsx)(te.Z,{}),children:"Save"})]})]}),(0,x.jsx)(w.Ix,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"})]})}var se=function(){var e=(0,u.I0)(),n=(0,o.useState)(!1),r=(0,Q.Z)(n,2),t=r[0],i=r[1],a=(0,o.useState)(null),s=(0,Q.Z)(a,2),l=s[0],c=s[1],d=(0,u.v9)(z);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(R.Z,{component:G.Z,sx:{maxWidth:"900px"},children:(0,x.jsxs)(W.Z,{"aria-label":"contacts table",children:[(0,x.jsx)(A.Z,{children:(0,x.jsxs)(D.Z,{children:[(0,x.jsx)($,{children:"Contact ID"}),(0,x.jsx)($,{align:"right",children:"Name"}),(0,x.jsx)($,{align:"right",children:"Phone"}),(0,x.jsx)($,{align:"right"})]})}),(0,x.jsx)(_.Z,{children:d.map((function(n){var r=n.id,t=n.name,o=n.number;return(0,x.jsxs)(ee,{children:[(0,x.jsx)($,{scope:"row",children:r}),(0,x.jsx)($,{align:"right",children:t}),(0,x.jsx)($,{align:"right",children:o}),(0,x.jsx)($,{align:"right",children:(0,x.jsxs)(M.Z,{flexDirection:"row",gridGap:"5px",children:[(0,x.jsx)(j.Z,{variant:"outlined",startIcon:(0,x.jsx)(V.Z,{}),onClick:function(){return function(e){c(e),i(!0)}({id:r,name:t,number:o})},children:"Edit"}),(0,x.jsx)(j.Z,{variant:"outlined",startIcon:(0,x.jsx)(K.Z,{}),onClick:function(){return function(n){var r=n.id;e((0,F.GK)(r))}({id:r})},children:"Delete"})]})})]},r)}))})]})}),(0,x.jsx)(N.Z,{open:t,children:(0,x.jsx)(H.Z,{children:(0,x.jsx)(ae,{contact:l,setOpen:i})})})]})},le=r(4142),ce=r(4746);function ue(){var e=(0,le.Z)(),n=(0,u.I0)(),r=(0,u.v9)(q),t=(0,u.v9)(T),i=(0,u.v9)(ce.Qb);return(0,o.useEffect)((function(){i&&n((0,F.yF)())}),[n,i]),(0,x.jsxs)(M.Z,{children:[(0,x.jsx)(M.Z,{as:"h1",pt:"20px",pb:"10px",margin:"0 auto",color:e.palette.text.primary,children:"Phonebook"}),(0,x.jsx)(B,{}),(0,x.jsx)(M.Z,{as:"h2",mb:"0",color:e.palette.text.primary,children:"Contacts"}),(0,x.jsx)(Z,{}),r&&!t&&(0,x.jsx)("b",{children:"Request in progress..."}),(0,x.jsx)(se,{}),(0,x.jsx)(w.Ix,{position:"top-right",autoClose:2e3,theme:"colored"})]})}function de(){return(0,x.jsx)(ue,{})}}}]);
//# sourceMappingURL=228.38e0c415.chunk.js.map